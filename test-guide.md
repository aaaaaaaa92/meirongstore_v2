# 功能测试指南

## 🚀 快速开始测试

### 第一步：配置 Supabase

1. **获取 API 密钥**：
   - 访问 https://app.supabase.com
   - 选择 `meirongstore` 项目
   - 进入 Settings → API
   - 复制 `anon` 密钥

2. **创建环境变量文件**：
   在项目根目录创建 `.env.local` 文件：
   ```env
   NEXT_PUBLIC_SUPABASE_URL=https://mdnkzndpcmgoasmxgrxt.supabase.co
   NEXT_PUBLIC_SUPABASE_ANON_KEY=你的_anon_密钥
   ```

3. **创建数据库表**：
   - 在 Supabase Dashboard 中进入 SQL Editor
   - 复制并执行 `setup.sql` 文件中的所有 SQL 代码

### 第二步：启动项目

```bash
npm run dev
```

### 第三步：功能测试清单

#### ✅ 预约功能测试

1. **访问首页** - http://localhost:3000
   - [ ] 页面正常加载
   - [ ] 显示美容预约系统标题
   - [ ] 显示"在线预约"和"查看预约"两个标签

2. **服务选择测试**
   - [ ] 下拉菜单显示10个预设服务项目
   - [ ] 选择服务后显示详细信息（价格、时长、描述）
   - [ ] 服务项目包括：基础面部护理、美白淡斑护理、美甲等

3. **日期选择测试**
   - [ ] 显示未来30天的可选日期
   - [ ] 日期格式正确（MM月dd日 周X）
   - [ ] 无法选择过去的日期

4. **时间选择测试**
   - [ ] 显示时间段网格（9:00-21:00）
   - [ ] 每30分钟一个时间段
   - [ ] 点击时间段高亮显示
   - [ ] 时间段样式正确

5. **客户信息测试**
   - [ ] 姓名输入框正常
   - [ ] 手机号验证（11位数字）
   - [ ] 备注输入框可选

6. **提交预约测试**
   - [ ] 必填字段验证
   - [ ] 提交成功显示绿色成功消息
   - [ ] 重复时间段预约被阻止
   - [ ] 表单自动清空

#### ✅ 查询功能测试

1. **切换到查看预约标签**
   - [ ] 标签切换正常
   - [ ] 显示预约列表界面

2. **预约列表显示**
   - [ ] 显示刚才创建的预约
   - [ ] 预约卡片包含所有信息：服务、日期、时间、客户信息
   - [ ] 状态标签显示正确（待确认、已确认等）

3. **搜索功能测试**
   - [ ] 手机号搜索框正常
   - [ ] 输入手机号能正确过滤预约
   - [ ] 清空搜索恢复全部显示

4. **状态筛选测试**
   - [ ] 状态下拉菜单正常
   - [ ] 可按不同状态筛选
   - [ ] "全部状态"显示所有预约

5. **状态更新测试**
   - [ ] 待确认预约显示"确认"和"取消"按钮
   - [ ] 点击"确认"状态变为"已确认"
   - [ ] 已确认预约显示"完成"按钮
   - [ ] 状态更新后界面实时刷新

#### ✅ 界面和体验测试

1. **响应式设计**
   - [ ] 手机浏览器打开正常
   - [ ] 平板设备显示正常
   - [ ] 桌面浏览器显示正常

2. **交互体验**
   - [ ] 加载动画正常
   - [ ] 按钮悬停效果
   - [ ] 表单验证提示清晰
   - [ ] 错误消息显示明确

3. **数据持久化**
   - [ ] 刷新页面数据不丢失
   - [ ] 预约记录正确保存到数据库
   - [ ] 状态更新永久保存

### 第四步：常见问题排查

如果遇到问题，请检查：

1. **连接问题**
   - 检查 `.env.local` 文件配置
   - 确认 Supabase 项目状态正常
   - 查看浏览器控制台错误信息

2. **数据库问题**
   - 确认已执行 `setup.sql` 脚本
   - 检查 Supabase 数据库中的表是否创建成功
   - 验证 RLS 策略是否正确设置

3. **功能问题**
   - 查看网络请求是否成功
   - 检查控制台 JavaScript 错误
   - 确认 API 密钥权限正确

### 测试数据示例

可以使用以下测试数据：
- **姓名**: 张小美
- **电话**: 13812345678
- **服务**: 基础面部护理
- **日期**: 明天
- **时间**: 14:00
- **备注**: 第一次体验

### 下一步开发

测试通过后，可以考虑添加：
- 后台管理界面
- 用户登录注册
- 短信通知功能
- 在线支付集成
- 数据统计报表





